import{i as z,g as I,u as A,a as N,o as P,b as U,r as $,c as p,d as D,e as H,f,h as s,n as k,j as u,t as _,k as h,s as K,l as F,m as M,w as m,v,p as W,F as E,q as S,x as L,y as O,z as R,A as j,B as Y,C as q,D as G,E as Q}from"./vendor.b7c00ff2.js";const J=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function l(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?e.credentials="include":t.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(t){if(t.ep)return;t.ep=!0;const e=l(t);fetch(t.href,e)}};J();const X={apiKey:"AIzaSyD5G1tB0tO3pSHEDtY8yzROY9uQrsYFSs4",authDomain:"todo-e47c0.firebaseapp.com",databaseURL:"https://todo-e47c0-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"todo-e47c0",storageBucket:"todo-e47c0.appspot.com",messagingSenderId:"391559150737",appId:"1:391559150737:web:2231f001dd5f4ec3991330"},Z=z(X),y=I(Z),ee={setup(r){const o=A(),l=N();return P(()=>{U(y,a=>{a&&(l.path=="/login"||l.path=="/register")&&o.replace("/")})}),(a,t)=>{const e=$("router-view");return p(),D(e)}}};const B=H("main",{state:()=>({tasks:[],filteredTasks:[],counter:0,isDark:!1,activeEl:0,activeTask:[],completedTask:[]}),getters:{},actions:{addTask(r){r!=""&&(this.tasks=[{content:r,done:!1},...this.tasks],this.counter++,this.filteredTasks=this.tasks,this.activeEl=0)},removeTask(r){this.tasks=this.tasks.filter(o=>o!=r),this.filteredTasks=this.tasks,r.done||this.counter--},filterTask(r){this.activeEl=r.id,this.filteredTasks=this.tasks.filter(o=>{if(r.name=="Active")return o.done==!1;if(r.name=="Completed")return o.done==!0;if(r.name=="All")return o})},toggleTask(r){r.done=!r.done,r.done==!0?this.counter--:this.counter++},toggleTheme(){this.isDark=!this.isDark}}}),te={class:"w-full h-auto bg-very-light-gray dark:bg-dark-bg-secondary flex items-center gap-4 px-4 py-[10px] border-b border-light-grayish-blue dark:border-dark-border relative"},se={props:{task:Object},setup(r){const o=r,l=B(),a={icon:["bg-icon-check w-[11px] h-[9px]"],text:["line-through text-light-grayish-blue dark:text-dark-text-secondary"]},t={icon:["w-5 h-5 border-2 rounded-full border-gray-200"],text:["dark:text-dark-text"]};return(e,i)=>(p(),f("div",te,[s("div",{class:k(["w-5 h-5 rounded-full flex items-center justify-center cursor-pointer",[o.task.done?"check":""]]),onClick:i[0]||(i[0]=g=>u(l).toggleTask(o.task))},[s("i",{class:k([o.task.done?a.icon:t.icon])},null,2)],2),s("p",{class:k([[o.task.done?a.text:t.text],"w-3/4 break-words"])},_(o.task.content),3),s("i",{class:"bg-icon-cross w-[18px] h-[18px] absolute right-5 transition-all hover:rotate-90 cursor-pointer",onClick:i[1]||(i[1]=g=>u(l).removeTask(o.task))})]))}},x=h(!1),w=h(""),C=()=>({isAuthenticated:x,login:async(a,t)=>{const e=await K(y,a,t);e.user&&(x.value=!0,w.value=e.user.email)},register:async(a,t)=>{const e=await F(y,a,t);e.user&&(x.value=!0,w.value=e.user.email)},logout:async()=>{await M(y),x.value=!1,w.value=""},user:w}),oe={class:"h-screen dark:bg-dark-bg overflow-y-scroll"},re={class:"z-0 h-72 dark:bg-desktop-dark bg-desktop-light bg-cover bg-center"},ae={class:"container z-10 w-11/12 md:w-3/5 lg:w-2/5 h-auto mx-auto pt-16 pb-40 sm:py-16"},ne={class:"flex justify-between"},ie=s("h1",{class:"text-3xl font-bold tracking-widest text-very-light-gray"},"TODO",-1),le={class:"w-full h-12 bg-very-light-gray dark:bg-dark-bg-secondary rounded flex items-center gap-4 px-4 mt-12 mb-8"},de=s("div",{class:"w-5 h-5 border-2 rounded-full border-gray-200"},null,-1),ce=["onKeypress"],ue={class:"rounded-t overflow-hidden shadow-xl"},pe={class:"w-full h-12 bg-very-light-gray dark:bg-dark-bg-secondary flex justify-between items-center px-4 rounded-b relative shadow-xl"},ge={class:"text-xs text-dark-grayish-blue dark:text-dark-text-secondary"},he={class:"flex text-sm absolute bottom-[-5rem] left-0 rounded w-full h-12 justify-center bg-very-light-gray dark:bg-dark-bg-secondary gap-4 shadow-xl sm:static sm:shadow-none sm:w-fit"},fe=["onClick"],ke={setup(r){const{isAuthenticated:o,logout:l,user:a}=C(),t=h(""),e=B(),i=()=>{e.addTask(t.value),t.value=""},g=[{name:"All",id:0},{name:"Active",id:1},{name:"Completed",id:2}],T=()=>{for(let d of e.filteredTasks)d.done&&(e.removeTask(d),e.activeEl=0)};return a.value.split("@")[0],(d,c)=>(p(),f("div",{class:k([u(e).isDark?"dark":""])},[s("div",oe,[s("div",re,[s("div",ae,[s("div",ne,[ie,s("i",{class:"bg-icon-moon dark:bg-icon-sun w-[26px] h-[26px] cursor-pointer transition ease-in delay-1000",onClick:c[0]||(c[0]=(...n)=>u(e).toggleTheme&&u(e).toggleTheme(...n))})]),s("div",le,[de,m(s("input",{type:"text",class:"w-full placeholder:text-dark-grayish-blue dark:bg-dark-bg-secondary dark:text-dark-text focus:outline-none caret-bright-blue",placeholder:"Add a new task","onUpdate:modelValue":c[1]||(c[1]=n=>t.value=n),onKeypress:W(i,["enter"])},null,40,ce),[[v,t.value]])]),s("div",ue,[(p(!0),f(E,null,S(u(e).filteredTasks,(n,b)=>(p(),D(se,{key:b,task:n},null,8,["task"]))),128))]),s("div",pe,[s("p",ge,_(u(e).counter)+" "+_(u(e).counter>=2?"tasks":"task")+" left",1),s("div",he,[(p(),f(E,null,S(g,(n,b)=>s("button",{key:b,onClick:Se=>u(e).filterTask(n),class:k(["dark:text-dark-text-secondary",[u(e).activeEl===b?"active":""]])},_(n.name),11,fe)),64))]),s("button",{class:"text-sm dark:text-dark-text-secondary",onClick:c[2]||(c[2]=n=>T())},"Clear Completed")])])])])],2))}},me={class:"login"},ve=s("h1",null,"Login",-1),be=["onSubmit"],_e=s("input",{type:"submit",value:"Login"},null,-1),ye=j("Register"),xe={setup(r){const{isAuthenticated:o,login:l}=C(),a=h(""),t=h(""),e=A(),i=async()=>{await l(a.value,t.value),g()},g=()=>{o.value?e.push("/"):console.log("error")};return(T,d)=>{const c=$("router-link");return p(),f("div",me,[ve,s("form",{onSubmit:R(i,["prevent"])},[m(s("input",{type:"email",placeholder:"Email","onUpdate:modelValue":d[0]||(d[0]=n=>a.value=n)},null,512),[[v,a.value]]),m(s("input",{type:"password",placeholder:"Password","onUpdate:modelValue":d[1]||(d[1]=n=>t.value=n)},null,512),[[v,t.value]]),_e,s("p",null,[L(c,{to:"/register"},{default:O(()=>[ye]),_:1})])],40,be)])}}},we={class:"login"},Te=s("h1",null,"Register",-1),Ae=["onSubmit"],$e=s("input",{type:"submit",value:"Register"},null,-1),Ce=j("Login"),De={setup(r){const{isAuthenticated:o,register:l}=C(),a=h(""),t=h(""),e=A(),i=async()=>{await l(a.value,t.value),g()},g=()=>{o.value?e.push("/"):console.log("error")};return(T,d)=>{const c=$("router-link");return p(),f("div",we,[Te,s("form",{onSubmit:R(i,["prevent"])},[m(s("input",{type:"email",placeholder:"Email","onUpdate:modelValue":d[0]||(d[0]=n=>a.value=n)},null,512),[[v,a.value]]),m(s("input",{type:"password",placeholder:"Password","onUpdate:modelValue":d[1]||(d[1]=n=>t.value=n)},null,512),[[v,t.value]]),$e,s("p",null,[L(c,{to:"/login"},{default:O(()=>[Ce]),_:1})])],40,Ae)])}}},V=Y(ee),Ee=q({history:G(),routes:[{path:"/",name:"Home",component:ke},{path:"/login",name:"Login",component:xe},{path:"/register",name:"Register",component:De}]});V.use(Q());V.use(Ee).mount("#app");
